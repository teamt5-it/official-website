@import "base";

$navbar-brand-mobile-height: 48px;
$navbar-brand-desktop-height: 62px;
$navbar-brand-mobile-padding: 0 10px;
$navbar-brand-logo-height: 30px;
$navbar-burger-side-length: $navbar-brand-logo-height;
$navbar-burger-size: 2px;

$navbar-item-desktop-height: $navbar-brand-desktop-height;
$navbar-item-desktop-margin: 0 20px;
$navbar-item-hover-box-shadow: inset 0 -5px 0 0 $primary-color;
$navbar-item-mobile-border: 0.5px solid #948e8c;
$navbar-item-title-height: $navbar-brand-mobile-height;
$navbar-item-arrow-container-height: 30px;
$navbar-item-arrow-side-length: $navbar-item-arrow-container-height/$square-root-of-two/2;

$navbar-submenu-desktop-height: 30px;
$navbar-submenu-arrow-side-length: $navbar-brand-logo-height;
$navbar-submenu-item-desktop-margin: $navbar-item-desktop-margin;
$navbar-submenu-item-mobile-height: $navbar-brand-mobile-height;
$navbar-submenu-desktop-font-size: 18px;
$navbar-submenu-mobile-font-size: 12px;

$navbar-desktop-padding: 0 28px;
$navbar-mobile-padding: 0 10px;
$navbar-item-title-padding: 0 8px;
$navbar-submenu-mobile-background-color: $background-color;
.navbar {
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	padding: $navbar-mobile-padding;
	width: 100%;
	max-width: 1280px;

	@include desktop() {
		position: relative;
		flex-direction: row;
		justify-content: space-between;
		flex-wrap: wrap;
		align-items: center;
		padding: $navbar-desktop-padding;
	}

	.navbar-brand {
		display: flex;
		justify-content: space-between;
		align-items: center;
		height: $navbar-brand-mobile-height;

		@include desktop() {
			height: $navbar-brand-desktop-height;
		}
		.navbar-brand-link {
			display: flex;
			justify-content: center;
			align-items: center;
			.logo {
				height: $navbar-brand-logo-height;
				display: flex;
				justify-content: center;
				align-content: center;
				img {
					height: 100%;
				}
			}
		}

		.navbar-burger {
			position: relative;
			width: $navbar-burger-side-length;
			height: $navbar-burger-side-length;
			transition: all 0.5s ease-in-out;

			@include desktop() {
				display: none;
			}
			span {
				position: absolute;
				left: 6px;
				display: block;
				width: 18px;
				height: $navbar-burger-size;
				background-color: grey;
			}
			@for $i from 1 through 3 {
				span:nth-child(#{$i}) {
					top: calc(5% + 20% * #{$i});
					transition: all 0.5s ease-in-out;
				}
			}
			&.active {
				span {
					&:nth-child(1) {
						transform: translateY(6px) rotate(45deg);
					}
					&:nth-child(2) {
						opacity: 0;
					}
					&:nth-child(3) {
   						transform: translateY(-6px) rotate(-45deg);
					}
				}
			}
		}
	}

	.navbar-menu {
		font-size: $navbar-submenu-mobile-font-size;
		max-height: 0;
		display: flex;
		flex-direction: column;
		transition: max-height 0.5s ease-in-out;
		overflow: hidden;

		@include desktop() {
			font-size: $navbar-submenu-desktop-font-size;
			display: flex;
			flex-direction: row;
			max-height: none;
		}

		&.active {
			max-height: 100vh;
		}

		.navbar-item {
			display: flex;
			flex-direction: column;
			display: block;

			@include desktop() {
				margin: $navbar-item-desktop-margin;
				height: $navbar-item-desktop-height;
			}

			.navbar-item-title {
				display: flex;
				justify-content: space-between;
				align-items: center;
				height: $navbar-item-title-height;
				border-bottom: $navbar-item-mobile-border;

				@include desktop() {
					height: $navbar-brand-desktop-height;
					border-bottom: 0;
				}
			}

			.navbar-item-link {
				display: block;
				line-height: $navbar-item-title-height;
				@include desktop() {
					line-height: $navbar-item-desktop-height;

					&:hover {
						box-shadow: $navbar-item-hover-box-shadow;
					}
				}
			}

			.navbar-item-arrow-container {
				position: relative;
				display: flex;
				justify-content: center;
				align-items: center;
				width: $navbar-item-arrow-container-height;
				height: $navbar-item-arrow-container-height;

				@include desktop() {
					display: none;
				}
				.arrow {
					position: absolute;
					width: $navbar-item-arrow-container-height/3;
					height: $navbar-item-arrow-container-height/3;
					transform: rotate(-135deg);

					border: solid grey;
					border-width: 3px 0 0 3px;
					&.active {
						position: absolute;
						top: 50%;
						transform: rotate(45deg);
					}
				}
			}

			.navbar-submenu {
				display: flex;
				flex-direction: column;
				background-color: $navbar-submenu-mobile-background-color;
				max-height: 0;
				transition: max-height 0.5s ease-in-out;
				overflow: hidden;

				@include desktop() {
					position: absolute;
					top: $navbar-brand-desktop-height;
					right: 0;
					flex-direction: row;
					background-color: transparent;
					overflow: hidden;
				}

				&.active {
					max-height: 100vh;
					@include desktop() {
						max-height: $navbar-submenu-desktop-height;
					}
				}

				.navbar-submenu-item {
					display: flex;
					align-items: center;
					height: $navbar-submenu-item-mobile-height;
					border-bottom: $navbar-item-mobile-border;
					@include desktop() {
						height: $navbar-submenu-desktop-height;
						border-bottom: 0;
						margin: $navbar-submenu-item-desktop-margin;
					}

					.navbar-submenu-item-link {
						display: block;
						line-height: $navbar-submenu-item-mobile-height;
						@include desktop() {
							line-height: $navbar-submenu-desktop-height;
						}
					}
				}
			}
		}
	}
	.navbar-submenu-padding {
		max-height: 0;
		height: 50px;
		width: 100%;
		transition: max-height 0.5s ease-in-out;
		overflow: hidden;
		@include desktop() {
		}
		&.active {
			@include desktop() {
				max-height: $navbar-submenu-desktop-height;
			}
		}
		.navbar-submenu-padding-content {
			max-height: $navbar-submenu-desktop-height;
		}
	}
}
